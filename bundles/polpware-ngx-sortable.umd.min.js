!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("@polpware/ngx-sortable",["exports","@angular/core","@angular/common"],t):t(((e=e||self).polpware=e.polpware||{},e.polpware["ngx-sortable"]={}),e.ng.core,e.ng.common)}(this,(function(e,t,n){"use strict";function r(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",4),t.ɵɵelementStart(1,"label",5),t.ɵɵtext(2),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"div",6),t.ɵɵelementStart(4,"button",7),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(r),t.ɵɵnextContext().moveUp()})),t.ɵɵtext(5,"⇧"),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"button",8),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(r),t.ɵɵnextContext().moveDown()})),t.ɵɵtext(7,"⇩"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var s=t.ɵɵnextContext();t.ɵɵproperty("ngClass",s.headerClasses),t.ɵɵadvance(2),t.ɵɵtextInterpolate(s.name),t.ɵɵadvance(2),t.ɵɵproperty("disabled",!s.selectedItem),t.ɵɵadvance(2),t.ɵɵproperty("disabled",!s.selectedItem)}}function s(e,n){if(1&e&&t.ɵɵelement(0,"div",12),2&e){var r=t.ɵɵnextContext(2);t.ɵɵproperty("ngClass",r.dropzoneClasses)}}function o(e,t){}var i=function(e){return{active:e}},a=function(e){return[e]};function l(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"li",9),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(r);var e=n.$implicit;return t.ɵɵnextContext().selectItem(e)}))("drop",(function(e){t.ɵɵrestoreView(r);var s=n.index;return t.ɵɵnextContext().onDrop(e,s)}))("dragover",(function(e){t.ɵɵrestoreView(r);var s=n.index;return t.ɵɵnextContext().allowDrop(e,s)}))("dragstart",(function(e){t.ɵɵrestoreView(r);var s=n.index;return t.ɵɵnextContext().onDragStart(e,s)})),t.ɵɵtemplate(1,s,1,1,"div",10),t.ɵɵtemplate(2,o,0,0,"ng-template",11),t.ɵɵelementEnd()}if(2&e){var l=n.$implicit,d=n.index,p=t.ɵɵnextContext();t.ɵɵproperty("ngClass",t.ɵɵpureFunction1(4,i,l==p.selectedItem)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",p.onDragOverIndex==d),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",t.ɵɵpureFunction1(6,a,l))("ngForTemplate",p.itemTemplate)}}var d=function(){function e(){this.showHeader=!0,this.containerClasses="",this.headerClasses="",this.listClasses="",this.dropzoneClasses="",this.listSorted=new t.EventEmitter,this.draggedIndex=-1,this.onDragOverIndex=-1}return e.prototype.selectItem=function(e){this.selectedItem=e},e.prototype.moveUp=function(){var e=this.items.indexOf(this.selectedItem);0!==e&&(this.swapElements(e,e-1),this.listSorted.emit(this.items))},e.prototype.moveDown=function(){var e=this.items.indexOf(this.selectedItem);e!==this.items.length-1&&(this.swapElements(e,e+1),this.listSorted.emit(this.items))},e.prototype.onDrop=function(e,t){this.handleDrop(t)},e.prototype.allowDrop=function(e,t){this.onDragOverIndex=t,e.preventDefault()},e.prototype.onDragStart=function(e,t){this.draggedIndex=t},e.prototype.handleDrop=function(e){var t=this.items[this.draggedIndex];this.items.splice(this.draggedIndex,1),this.items.splice(e,0,t),this.draggedIndex=-1,this.onDragOverIndex=-1,this.listSorted.emit(this.items)},e.prototype.swapElements=function(e,t){var n=this.items[e];this.items[e]=this.items[t],this.items[t]=n},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=t.ɵɵdefineComponent({type:e,selectors:[["polp-ngx-sortable"]],contentQueries:function(e,n,r){var s;(1&e&&t.ɵɵcontentQuery(r,t.TemplateRef,!0),2&e)&&(t.ɵɵqueryRefresh(s=t.ɵɵloadQuery())&&(n.itemTemplate=s.first))},inputs:{items:"items",name:"name",showHeader:"showHeader",containerClasses:"containerClasses",headerClasses:"headerClasses",listClasses:"listClasses",dropzoneClasses:"dropzoneClasses"},outputs:{listSorted:"listSorted"},decls:4,vars:4,consts:[[1,"sortable-container",3,"ngClass"],["class","sortable-header",3,"ngClass",4,"ngIf"],[1,"sortable-list",3,"ngClass"],["draggable","true",3,"ngClass","click","drop","dragover","dragstart",4,"ngFor","ngForOf"],[1,"sortable-header",3,"ngClass"],[1,"sortable-name"],[1,"sortable-buttons"],["title","Move Up",3,"disabled","click"],["title","Move Down",3,"disabled","click"],["draggable","true",3,"ngClass","click","drop","dragover","dragstart"],["class","drop-zone",3,"ngClass",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"drop-zone",3,"ngClass"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵtemplate(1,r,8,4,"div",1),t.ɵɵelementStart(2,"ul",2),t.ɵɵtemplate(3,l,3,8,"li",3),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("ngClass",n.containerClasses),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.showHeader),t.ɵɵadvance(1),t.ɵɵproperty("ngClass",n.listClasses),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",n.items))},directives:[n.NgClass,n.NgIf,n.NgForOf],encapsulation:2}),e}(),p=function(){function e(){}return e.ɵmod=t.ɵɵdefineNgModule({type:e}),e.ɵinj=t.ɵɵdefineInjector({factory:function(t){return new(t||e)},imports:[[n.CommonModule]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(p,{declarations:[d],imports:[n.CommonModule],exports:[d]}),e.NgxSortableComponent=d,e.NgxSortableModule=p,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=polpware-ngx-sortable.umd.min.js.map