{"version":3,"sources":["ng://@polpware/ngx-sortable/lib/ngx-sortable.component.html","ng://@polpware/ngx-sortable/lib/ngx-sortable.component.ts","ng://@polpware/ngx-sortable/lib/ngx-sortable.module.ts"],"names":["i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵlistener","i0.ɵɵproperty","i0.ɵɵadvance","i0.ɵɵtextInterpolate","i0.ɵɵelement","$event","core","ɵɵrestoreView","_r10","i_r6","ctx","index","ɵɵnextContext","onDrop","allowDrop","onDragStart","i0.ɵɵtemplate","ctx_r1","itemTemplate","NgxSortableComponent","this","showHeader","containerClasses","headerClasses","listClasses","dropzoneClasses","listSorted","EventEmitter","draggedIndex","onDragOverIndex","prototype","selectItem","item","selectedItem","moveUp","items","indexOf","swapElements","emit","moveDown","length","handleDrop","preventDefault","droppedIndex","splice","oldIndex","newIndex","temp","selectors","contentQueries","rf","dirIndex","TemplateRef","NgxSortableModule","imports","CommonModule","declarations","exports"],"mappings":"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","sourcesContent":["<div class=\"sortable-container\" [ngClass]=\"containerClasses\">\n    <div class=\"sortable-header\" [ngClass]=\"headerClasses\" *ngIf=\"showHeader\">\n        <label class=\"sortable-name\">{{name}}</label>\n        <div class=\"sortable-buttons\">\n            <button (click)=\"moveUp()\" [disabled]=\"!selectedItem\" title=\"Move Up\">&#8679;</button>\n            <button (click)=\"moveDown()\" [disabled]=\"!selectedItem\" title=\"Move Down\">&#8681;</button>\n        </div>\n    </div>\n    <ul class=\"sortable-list\" [ngClass]=\"listClasses\"> \n        <li draggable=\"true\" (click)=\"selectItem(item)\" *ngFor=\"let item of items; let i = index;\"\n            [ngClass]=\"{'active': item == selectedItem}\" (drop)=\"onDrop($event, i)\" (dragover)=\"allowDrop($event,i)\"\n            (dragstart)=\"onDragStart($event, i)\">\n            <div class=\"drop-zone\" [ngClass]=\"dropzoneClasses\" *ngIf=\"onDragOverIndex == i\">\n            </div>\n            <ng-template ngFor [ngForOf]=\"[item]\" [ngForTemplate]=\"itemTemplate\">\n            </ng-template>\n        </li>\n    </ul>\n</div>\n","import {\n    Component, Input, Output, ContentChild, EventEmitter,\n    TemplateRef, ElementRef\n} from '@angular/core';\n\n@Component({\n    selector: 'polp-ngx-sortable',\n    templateUrl: './ngx-sortable.component.html',\n    styleUrls: []\n})\nexport class NgxSortableComponent {\n    @Input() public items: any[];\n    @Input() public name: string;\n    @Input() public showHeader: boolean = true;\n    @Input() public containerClasses: string = '';\n    @Input() public headerClasses: string = '';\n    @Input() public listClasses: string = '';\n    @Input() public dropzoneClasses: string = '';\n\n    @Output() public listSorted: EventEmitter<any> = new EventEmitter();\n    @ContentChild(TemplateRef) public itemTemplate: TemplateRef<ElementRef>;\n    public selectedItem: any;\n    public draggedIndex: number = -1;\n    public onDragOverIndex: number = -1;\n\n    constructor() {\n    }\n\n    public selectItem(item: any) {\n        this.selectedItem = item;\n    }\n\n    public moveUp() {\n        const index = this.items.indexOf(this.selectedItem);\n        if (index === 0) {\n            return;\n        }\n        this.swapElements(index, index - 1);\n        this.listSorted.emit(this.items);\n    }\n\n    public moveDown() {\n        const index = this.items.indexOf(this.selectedItem);\n        if (index === this.items.length - 1) {\n            return;\n        }\n        this.swapElements(index, index + 1);\n        this.listSorted.emit(this.items);\n    }\n\n    public onDrop($event: any, index: number) {\n        // index is of the element on which the item is dropped\n        this.handleDrop(index);\n    }\n\n    public allowDrop($event: any, index: number) {\n        // index is of the item on which the item is currently hovered\n        this.onDragOverIndex = index;\n        $event.preventDefault();\n    }\n\n    public onDragStart($event: any, index: number) {\n        this.draggedIndex = index;\n    }\n\n    public handleDrop(droppedIndex: number) {\n        const item = this.items[this.draggedIndex];\n        this.items.splice(this.draggedIndex, 1);\n        this.items.splice(droppedIndex, 0, item);\n        this.draggedIndex = -1;\n        this.onDragOverIndex = -1;\n        this.listSorted.emit(this.items);\n    }\n\n    public swapElements(oldIndex: number, newIndex: number) {\n        const temp = this.items[oldIndex];\n        this.items[oldIndex] = this.items[newIndex];\n        this.items[newIndex] = temp;\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NgxSortableComponent } from './ngx-sortable.component';\n\n@NgModule({\n    declarations: [NgxSortableComponent],\n    imports: [\n        CommonModule\n    ],\n    exports: [NgxSortableComponent]\n})\nexport class NgxSortableModule { }\n"]}