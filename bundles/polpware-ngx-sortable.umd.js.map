{"version":3,"file":"polpware-ngx-sortable.umd.js","sources":["ng://@polpware/ngx-sortable/lib/ngx-sortable.component.html","ng://@polpware/ngx-sortable/lib/ngx-sortable.component.ts","ng://@polpware/ngx-sortable/lib/ngx-sortable.module.ts"],"sourcesContent":["<div class=\"sortable-container\" [ngClass]=\"containerClasses\">\n    <div class=\"sortable-header\" [ngClass]=\"headerClasses\" *ngIf=\"showHeader\">\n        <label class=\"sortable-name\">{{name}}</label>\n        <div class=\"sortable-buttons\">\n            <button (click)=\"moveUp()\" [disabled]=\"!selectedItem\" title=\"Move Up\">&#8679;</button>\n            <button (click)=\"moveDown()\" [disabled]=\"!selectedItem\" title=\"Move Down\">&#8681;</button>\n        </div>\n    </div>\n    <ul class=\"sortable-list\" [ngClass]=\"listClasses\"> \n        <li draggable=\"true\" (click)=\"selectItem(item)\" *ngFor=\"let item of items; let i = index;\"\n            [ngClass]=\"{'active': item == selectedItem}\" (drop)=\"onDrop($event, i)\" (dragover)=\"allowDrop($event,i)\"\n            (dragstart)=\"onDragStart($event, i)\">\n            <div class=\"drop-zone\" [ngClass]=\"dropzoneClasses\" *ngIf=\"onDragOverIndex == i\">\n            </div>\n            <ng-template ngFor [ngForOf]=\"[item]\" [ngForTemplate]=\"itemTemplate\">\n            </ng-template>\n        </li>\n    </ul>\n</div>\n","import {\n    Component, Input, Output, ContentChild, EventEmitter,\n    TemplateRef, ElementRef\n} from '@angular/core';\n\n@Component({\n    selector: 'polp-ngx-sortable',\n    templateUrl: './ngx-sortable.component.html',\n    styleUrls: []\n})\nexport class NgxSortableComponent {\n    @Input() public items: any[];\n    @Input() public name: string;\n    @Input() public showHeader: boolean = true;\n    @Input() public containerClasses: string = '';\n    @Input() public headerClasses: string = '';\n    @Input() public listClasses: string = '';\n    @Input() public dropzoneClasses: string = '';\n\n    @Output() public listSorted: EventEmitter<any> = new EventEmitter();\n    @ContentChild(TemplateRef) public itemTemplate: TemplateRef<ElementRef>;\n    public selectedItem: any;\n    public draggedIndex: number = -1;\n    public onDragOverIndex: number = -1;\n\n    constructor() {\n    }\n\n    public selectItem(item: any) {\n        this.selectedItem = item;\n    }\n\n    public moveUp() {\n        const index = this.items.indexOf(this.selectedItem);\n        if (index === 0) {\n            return;\n        }\n        this.swapElements(index, index - 1);\n        this.listSorted.emit(this.items);\n    }\n\n    public moveDown() {\n        const index = this.items.indexOf(this.selectedItem);\n        if (index === this.items.length - 1) {\n            return;\n        }\n        this.swapElements(index, index + 1);\n        this.listSorted.emit(this.items);\n    }\n\n    public onDrop($event: any, index: number) {\n        // index is of the element on which the item is dropped\n        this.handleDrop(index);\n    }\n\n    public allowDrop($event: any, index: number) {\n        // index is of the item on which the item is currently hovered\n        this.onDragOverIndex = index;\n        $event.preventDefault();\n    }\n\n    public onDragStart($event: any, index: number) {\n        this.draggedIndex = index;\n    }\n\n    public handleDrop(droppedIndex: number) {\n        const item = this.items[this.draggedIndex];\n        this.items.splice(this.draggedIndex, 1);\n        this.items.splice(droppedIndex, 0, item);\n        this.draggedIndex = -1;\n        this.onDragOverIndex = -1;\n        this.listSorted.emit(this.items);\n    }\n\n    public swapElements(oldIndex: number, newIndex: number) {\n        const temp = this.items[oldIndex];\n        this.items[oldIndex] = this.items[newIndex];\n        this.items[newIndex] = temp;\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NgxSortableComponent } from './ngx-sortable.component';\n\n@NgModule({\n    declarations: [NgxSortableComponent],\n    imports: [\n        CommonModule\n    ],\n    exports: [NgxSortableComponent]\n})\nexport class NgxSortableModule { }\n"],"names":["i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵlistener","i0.ɵɵproperty","i0.ɵɵadvance","i0.ɵɵtextInterpolate","i0.ɵɵelement","i0.ɵɵtemplate","EventEmitter","TemplateRef","Component","Input","Output","ContentChild","CommonModule","NgModule"],"mappings":"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"}